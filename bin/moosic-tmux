#!/bin/zsh

shopt -s expand_aliases
source $XDG_CONFIG_HOME/zsh/.zshrc

TMUX_BASE_CMD="tmux -2 -u -f ${XDG_CONFIG_HOME}/tmux/tmux.conf"

SESSION_NAME="moosic"

tmux new-session -d -c "$HOME/music/podcasts" -s "$SESSION_NAME" "ncmpcpp"
tmux new-window -n "puckfetcher" "puckfetcher menu"
tmux new-window -n "sync" "zsh"
tmux new-window -n "config" "nvim $XDG_CONFIG_HOME/puckfetcher/config.yaml"
tmux new-window -n "mpd-start" "mpd &; sleep 0.001; exit"
tmux select-window -t 0

tmux attach -t "$SESSION_NAME"
