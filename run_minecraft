#!/bin/sh
# Modified from:
# http://www.minecraftforum.net/forums/archive/alpha/alpha-survival-multiplayer/823328-making-your-server-lag-less-by-tuning-java

JAR="minecraft_server.jar"
JAR_OPTIONS="nogui"
MEMCAP="1580m"
OPTIONS="-XX:+UseConcMarkSweepGC -XX:+UseParNewGC -XX:+CMSIncrementalPacing -XX:ParallelGCThreads=2
-XX:+AggressiveOpts -Xmx $MEMCAP"

TIME="$(date '+%Y-%m-%d %R%S')"
echo "Starting server at ${TIME}."

CMD="java -server $OPTIONS -jar $JAR $JAR_OPTIONS"
echo "Running '$CMD'."
$CMD
